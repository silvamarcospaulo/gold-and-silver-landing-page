<section id="lista-produtos">
  <div id="container-lista-produtos">
    <div id="cabecalho-catalogo">
      <h1>Catálogo</h1>
      <a href="silver-and-gold-catalogo.pdf" class="categoria-link">
        <i class="bi bi-download"></i>
        Download Catálogo
      </a>
    </div>
    <div id="filtragem">
      <div id="filtragem-titulo">
        <h5>
          {{ categoriaAtual }}
          <span *ngIf="categoriaAtual">({{ produtosFiltrados.length }})</span>
        </h5>
      </div>

      <div id="filtro-categorias">
        <div id="menu-categorias">
          <button id="menu-toggle-categoria" (click)="toggleMenu()">Categorias</button>
          <button id="botao-limpar-categoria" (click)="limparFiltro()">Limpar</button>
        </div>
        <nav id="nav-list-categoria" [class.open]="menuAberto">
          @for (categoria of categorias; track categoria) {
          <button class="categoria-link"
            (click)="go('#lista-produtos', $event); selecionarCategoria(categoria)">
            {{ categoria }}
          </button>
          }
        </nav>
      </div>
    </div>

    <div id="grid-produtos">
      @for (produto of produtosPaginados; track produto.nomeDoProduto) {
      <a [routerLink]="['/produto', produto.id]" class="card-link">
        <app-card-produto [produto]="produto" />
      </a>
      }
    </div>

    <div id="paginacao">
      <button (click)="go('#lista-produtos', $event); mudarPagina(1)" [disabled]="paginaAtual === 1">«</button>
      <button (click)="go('#lista-produtos', $event); mudarPagina(paginaAtual - 1)"
        [disabled]="paginaAtual === 1">‹</button>

      <button *ngFor="let pagina of paginasExibidas"
        (click)="go('#lista-produtos', $event); mudarPagina(pagina)" [class.ativa]="paginaAtual === pagina">
        {{ pagina }}
      </button>

      <button (click)="go('#lista-produtos', $event); mudarPagina(paginaAtual + 1)"
        [disabled]="paginaAtual === totalPaginas">›</button>
      <button (click)="go('#lista-produtos', $event); mudarPagina(totalPaginas)"
        [disabled]="paginaAtual === totalPaginas">»</button>
    </div>
  </div>
</section>